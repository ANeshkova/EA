<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:include="~{fragments/head}"></th:block>
</head>
<body>
<th:block th:include="~{fragments/nav}"></th:block>

<main>
    <div style="max-width: 1300px; margin: 0 auto">
        <div th:if="${categoryAddedSuccessfully}" class="alert alert-success text-center" role="alert">
            Category added successfully.
        </div>
        <div class="pt-5 pb-5 wrapper mx-auto" style="border-radius: 20px;">
            <h1 class="text-center text-dark">All categories</h1>
            <hr class="hr-2 my-form__hr" style="width: 85%;">
            <table class="table table-hover mx-auto" style="width: 85%;">
                <thead>
                <tr class="row mx-auto">
                    <th class="col-md-2 text-center">#</th>
                    <th class="col-md-2 text-center">Image</th>
                    <th class="col-md-4 text-center">Name</th>
                    <th class="col-md-4 text-center">Actions</th>
                </tr>
                </thead>
                <tbody>

                <th:block th:each="category, iter : ${categories}">
                    <tr class="row mx-auto">
                        <th class="col-md-2 text-center" th:text="${iter.index + 1}"></th>
                        <td class="col-md-2">
                            <div class="text-center">
                                <img th:src="${category.imageUrl}" width="40" height="40" alt="Product"></div>
                        </td>
                        <td class="col-md-4 text-center" th:text="${category.name}"></td>
                        <td class="col-md-4 text-center">
                            <a th:href="@{/words/all/admin-table/{category}(category=${category.name})}"
                               class="btn btn-secondary font-weight-bold text-white">Details</a>
                            <a th:href="@{/categories/edit/{id}(id=${category.id})}"
                               class="btn btn-success font-weight-bold text-white">Edit</a>
                            <a th:href="@{/categories/delete/{id}(id=${category.id})}"
                               class="btn btn-danger font-weight-bold text-white">Delete</a>
                        </td>
                    </tr>
                </th:block>

                </tbody>
            </table>
            <hr class="hr-2 my-form__hr" style="width: 85%;">
        </div>
    </div>
</main>

<th:block th:include="~{fragments/footer}"></th:block>
</body>
</html>